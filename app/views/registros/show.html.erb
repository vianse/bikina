<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
   <meta charset="UTF-8" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
   <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport" />
    <title>Directorio Vecinal</title>
    <meta name="description" content="Morphing Buttons Concept: Inspiration for revealing content by morphing the action element" />
    <meta name="keywords" content="expanding button, morph, modal, fullscreen, transition, ui" />
    <!-- ================== BEGIN BASE CSS STYLE ================== -->
    <link href="http://fonts.googleapis.com/css?family=Nunito:400,300,700" rel="stylesheet" id="fontFamilySrc" />
    <link href="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447734615/jquery-ui.min.css" rel="stylesheet" />
    <link href="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447734729/bootstrap.min.css" rel="stylesheet" />
    <link href="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447735152/animate.min.css" rel="stylesheet" />
    <link href="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447735249/style.min.css" rel="stylesheet" />
  <!-- ================== END BASE CSS STYLE ================== -->
  
  <!-- ================== BEGIN PAGE LEVEL CSS STYLE ================== -->
    <link href="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447735472/jquery.gritter.css" rel="stylesheet" />    
  <!-- ================== END PAGE LEVEL CSS STYLE ================== -->
    
    <!-- common styles -->
    <link rel="stylesheet" type="text/css" href="http://res.cloudinary.com/dnubgpeun/raw/upload/v1461709940/css/dialog.css" />
    <!-- individual effect -->
    <link rel="stylesheet" type="text/css" href="http://res.cloudinary.com/dnubgpeun/raw/upload/v1461709940/css/dialog-cathy.css" />
    <script src="http://res.cloudinary.com/dnubgpeun/raw/upload/v1461709980/js/modernizr.custom.js"></script>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>

<script type="text/javascript" src="http://fancybox.net/js/fancybox-1.3.4/jquery.fancybox-1.3.4.js"></script>
<link rel="stylesheet" href="http://fancybox.net/js/fancybox-1.3.4/jquery.fancybox-1.3.4.css" type="text/css" media="screen" />
    
  </head>
<style type="text/css">
    body{
      background-color: white!important;
      color: #cccccc;
      font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, sans-serif !important;
    }
    button.trigger {
    background: hsl(359, 53%, 55%);
    color: hsl(0, 0%, 100%);
    border: none;
    }

    button {
    padding: 1em 2em;
    outline: none;
    font-weight: 600;
    border: none;
    color: hsl(0, 0%, 100%);
    background: hsl(359, 53%, 55%);
}

.dialog h2 {
    margin: 0;
    font-weight: 400;
    font-size: 2em;
    padding: 0 0 .5em; 
    margin: 0;
}

input[type=submit] {
    padding: 1em 2em;
    outline: none;
    font-weight: 600;
    border: none;
    color: hsl(0, 0%, 100%);
    background: hsl(359, 53%, 55%);
}

input[type=text] {
    padding: 1em 2em;
    outline: none;
    font-weight: 600;
    border: none;
    color: hsl(0, 0%, 39%);
    background: hsl(0, 0%, 91%);
    width: 50%;
}
th, td{
  color: black;
}
button.trigger {
    background: hsl(359, 53%, 55%);
    color: hsl(0, 0%, 100%);
    border: none;
    border-radius: 6px;
    margin: 5px;
}

.page-header-fixed {
    padding-top: 0px;
}
    .visible{
        display: none;
    }
    a.font{
      font-size: 16px;
    }
    .font{
      font-size: 16px;
    }
    .verde{
      color: #00A896;
    }
    .subtitle{
        /* Good: */
        font-family: .AppleSystemUIFont;
        font-size: 18px;
        line-height: 24px;
    }
    .panel.panel-success .panel-heading{
        margin-top: 10px;
    }
    .empresa{
        font-family: .AppleSystemUIFont;
    }
    .btn.btn-warning{
        margin-bottom: 10px;
    }
    .circle-red{
        color: hsl(2, 85%, 61%);
    }
    .circle-green{
        color: hsl(126, 45%, 58%);
    }
    .circle-yellow{
        color: hsl(35, 97%, 62%);
    }
    #flotante{  /*padre*/
    
    width: 100%; 
    height: 100%;
    }
    #flotante .A{  /*hijos*/
    display: inline-block;
    margin-left: 20px;
    }
     #flotante .B{
    display: inline-block;
    margin-left: 20px;
    margin-top: 0px!important;
     }
    #flotante .c{
    display: inline-block;
    margin-left: 50px;
   
     }
     #flotante .d{
    display: inline-block;
    margin-left: 50px;
   
     }
     #flotante .e{
    display: inline-block;
    margin-left: 50px;
   
     }
    .oculto{
      display: none;
    }
    .mostrar{
    font-size: 21px;
    font-weight: bold;
    }
 
    strong {
    font-family: Nunito,sans-serif;
    margin-left: 15px;
    font-weight: 100;
    cursor:pointer;
    }
    
    .sidebar .sub-menu{
      background-color: #2F223D;
    }
    .sidebar{
     background-color: #2F223D;
    }

    .blanco{
      color: #E8E8ED!important;
      text-overflow:ellipsis!important;
      white-space:nowrap; 
      overflow:hidden; 

    }
    a.blanco{
      text-decoration: none;
      background: transparent;
    }
    #search{
      margin-top: 5%;
      margin-left: 5%;
      margin-right: 5%;
      margin-bottom: 5%;
      width: 90%;
      color: #36213E;
      background:hsl(210, 5%, 93%);
      text-transform: lowercase; 
    }

.panel.panel-inverse .panel-heading {
    background: #554971;
    color: hsl(0, 0%, 100%);
}
td.blanco{
  width: 300px;
  
  padding:2%;
}
td.blanco:hover{
  background-color: #554971;
}
.hide{
  display: none;
}
.show{
  padding-top: 3%;
}
.font{
  font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, sans-serif !important;
  font-size: 14px;

}
p{
   font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, sans-serif !important;
  font-size: 12px;
  color:  hsl(0, 0%, 39%);

}
h4{
  font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, sans-serif !important;
  font-size: 16px!important;
  color: black;
}

.timeline-footer {
    border-bottom: 1px solid hsl(210, 3%, 88%)!important;
    border-top: 0px solid hsl(210, 3%, 88%)!important;
    margin: 15px 0 -20px;
    padding: 15px 0;
    font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue",Helvetica, Arial, sans-serif !important;
    font-size: 12px;
}
.img-circle {
    border-radius: 20%;
}
</style>
  <body data-no-turbolink>
     <div id="page-loader" class="page-loader fade in"><span class="spinner">Loading...</span></div> <!-- loading -->
    
  <div id="page-container" class="fade page-container page-header-fixed page-sidebar-fixed page-with-two-sidebar page-with-footer">
    <!-- begin #header -->
    <div id="header" class="header navbar navbar-default navbar-fixed-top">
      <!-- begin container-fluid -->
      <div class="container-fluid">
        <!-- begin mobile sidebar expand / collapse button -->
        <div class="navbar-header">
          <a href="/" class="navbar-brand">
                     bikina 

                    </a>
          <button type="button" class="navbar-toggle" data-click="sidebar-toggled">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <!-- end mobile sidebar expand / collapse button -->
        

        <ul class="nav navbar-nav navbar-right">
          <li>
   
          </li>
              <li class="dropdown navbar-user">
                        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
                            <span class="image"><%= image_tag("http://res.cloudinary.com/vianse/" + Perfil.where(:user_id => current_user.id).pluck(:photo).first, size: "40") %></span>
                          <span class="hidden-xs">
                          
                            <strong><%= current_user.email %></strong></span> 
                          <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu pull-right">
                          <li><a href="/users/edit">Seguridad</a></li>
                          <li class="divider"></li>
                          <li><%= link_to 'Editar perfil', edit_perfil_path(Perfil.where(:user_id => current_user.id).pluck(:id).first), :class => 'navbar-link' %></li>
                          <li><%= link_to "Cerrar sesiÃ³n", destroy_user_session_path, method: :delete  %></li>
                        </ul>
              </li>
        </ul>

        <!-- end navbar-right -->
      </div>
      <!-- end container-fluid -->
    </div>
    <div id="sidebar" class="sidebar">
      <!-- begin sidebar scrollbar -->
      <div data-scrollbar="true" data-height="100%">
        <!-- begin sidebar nav -->

        <ul class="nav">
    
          <li class="nav-header">Tus Directorios</li>
          <li class="has-sub active">
              <ul class="" style="padding-left: 0px;">

                <table >
                  <thead>
                  <tr>
                  </tr>
                  </thead>
                  <tbody>
                    <tr>
                     <td class="blanco">                  
                      <strong>
                       
                        <a href="/registros?clave=<%= @registro.grupo_id %>&page=1" class="blanco">Regresar</a>
                      </strong>

                     </td>
                 
                     </tr>
                  </tbody>
                </table>
                    
                                        
              </ul>
          </li>
        </ul>
        <!-- end sidebar nav -->
      </div>
      <!-- end sidebar scrollbar -->
    </div>
    <!-- end #sidebar -->
    <div id="content" class="content">
              <h1 class="page-header">
                <span class="empresa"> 
                      

        <div id="somedialog" class="dialog">
          <div class="dialog__overlay"></div>
          <div class="dialog__content">
            <h2>Crear un directorio</h2>
            
            <%= form_for(@grupo) do |f| %>
                <% if @grupo.errors.any? %>
                  <div id="error_explanation">
                    <h2><%= pluralize(@grupo.errors.count, "error") %> prohibited this grupo from being saved:</h2>

                    <ul>
                    <% @grupo.errors.full_messages.each do |message| %>
                      <li><%= message %></li>
                    <% end %>
                    </ul>
                  </div>
                <% end %>

                <div class="field">
                  <%= f.label "Escribe brevemente un nombre para tu directorio" %><br>
                  <%= f.text_field :nombre,:required => true %>
                </div>
                <div class="field">
                  <%= f.hidden_field :user_id, :value => current_user.id %>
                </div>
                <div class="field">
                  <%= f.hidden_field :clave, :value => rand(5..100000000) %>
                </div>
                <div class="actions">
                  <%= f.submit "Crear", :class=>"action" %>
                  
                </div>
              <% end %>
            <div>
          </div>
        </div>

         <div id="somedialog1" class="dialog">
          <div class="dialog__overlay"></div>
          <div class="dialog__content">
            <h2>Unirse a un directorio</h2><div><button class="action" data-dialog-close>Close</button></div>
          </div>
        </div>

                </span>
              </h1>
              <!-- end page-header -->
               <div class="panel panel-inverse">
                            <div class="panel-body">
              <div class="row">
                <!-- begin col-4 -->
              <div class="col-md-4">
                  <!-- begin widget -->
                          
                          <h3>   
                            <%= @registro.titulo %>
                          </h3>

                          <h5>
                            <%= @registro.descripcion %>
                          </h5>

                          <h5>Direccion:
                            <%= @registro.direccion %>
                          </h5>

                          <h5>Telefono:
                            <%= @registro.telefono1 %>
                          </h5>

                          <h5>Costo:
                            <%= @registro.costo %>
                          </h5>

                          <h5>Correo:
                            <%= @registro.correo %>
                          </h5>

                          <h5>Sitio web:
                            <%= @registro.sitioweb %>
                          </h5>
                           <% if @usuario == @registro.user_id.to_i  %>

                          <%= form_for(@foto) do |f| %>
                            <% if @foto.errors.any? %>
                              <div id="error_explanation">
                                <h2><%= pluralize(@foto.errors.count, "error") %> prohibited this foto from being saved:</h2>

                                <ul>
                                <% @foto.errors.full_messages.each do |message| %>
                                  <li><%= message %></li>
                                <% end %>
                                </ul>
                              </div>
                            <% end %>

                            <div class="field">
                              <h4>Agregar una imagen</h4>
                              <%= f.hidden_field :photo %>
                              <%= f.file_field :photo,:class => 'form-control ', :required => true%>
                              <%= f.hidden_field :remote_photo_url %>         
                            </div>
                            <div class="field">
                              
                              <%= f.hidden_field :user_id, :value => current_user.id %>
                            </div>
                            <div class="field">
                             
                              <%= f.hidden_field :registro_id, :value => @registro.id %>
                            </div>
                            <div class="field">
                           
                              <%= f.hidden_field :grupo_id, :value => @registro.grupo_id %>
                            </div>
                            <div class="actions">
                              <%= f.submit "Subir Imagen" %>
                            </div>
                          <% end %>
                          <% else %>
                          <% end %>

                  <!-- end widget -->
              </div>
              <!-- end col-4 -->
              <!-- begin col-4 -->
                      <div class="col-md-4">
                          <!-- begin widget -->
                          <div class="widget widget-gallery">
                              <div class="widget-gallery-header">
                                  <h5>ColecciÃ³n de Imagenes</h5>
                                  <p class="text-muted m-t-3">
                                      
                                  </p>
                              </div>
                              <div id="imagenes" data-no-turbolink></div>

                              </div>
                             
                          <!-- end widget -->
                      </div>
                      <div class="col-md-4">
                        <% if @usuario == @registro.user_id.to_i  %>
                          
                                <table>
                                  <thead>
                                    <tr>
                                      <th>Administrador de Imagenes (Solo es visto por el dueÃ±o del servicio)</th>
                                      <th colspan="3"></th>
                                    </tr>
                                  </thead>

                                  <tbody>
                                    <% @fotos.each do |foto| %>
                                      <tr>
                                        <td><%= link_to 'Eliminar foto', foto, method: :delete, data: { confirm: 'Estas seguro de eliminar esta foto?' } %></td>
                                      </tr>
                                    <% end %>
                                  </tbody>
                                </table>
                           
                          <% end %>
                      </div>
              <!-- end col-4 -->          
              </div>
              <div class="timeline-footer">
                                
                                <a href="javascript:comentar();" class="m-r-25"><i class="fa fa-comments fa-fw" id="comentar"></i> Comentar</a>
                                <br>
                              <div id="comment">
                                <%= form_for(@comentario) do |f| %>
                                <% if @comentario.errors.any? %>
                                  <div id="error_explanation">
                                    <h2><%= pluralize(@comentario.errors.count, "error") %> prohibited this comentario from being saved:</h2>

                                    <ul>
                                    <% @comentario.errors.full_messages.each do |message| %>
                                      <li><%= message %></li>
                                    <% end %>
                                    </ul>
                                  </div>
                                <% end %>

                                <div class="field">
                                  <%= f.text_field :comentario, :class => "form-control", :placeholder => "Escribe un comentario...", :required => true %>
                                </div>
                                <div class="field">
                                  <%= f.hidden_field :user_id, :value => current_user.id %>
                                </div>
                                <div class="field">
                                  <%= f.hidden_field :name_user, :value => Perfil.where(:user_id => current_user.id).pluck(:nombre).first %>
                                </div>
                                <div class="field">
                                  <%= f.hidden_field :grupo_id, :value => @registro.grupo_id %>
                                </div>
                                <div class="field">

                                  <%= f.hidden_field :registro_id, :value => @registro.id %>
                                </div>
                                <div class="actions">
                                  <%= f.submit "Enviar Comentarios" %>
                                </div>
                              <% end %>
                          </div>
              </div><br>
              <h5>Comentarios</h5>
               <ul class="media-list">
                  <li class="media media-sm">
                      <div id="comentarios" data-no-turbolink></div>
                    <br>
                    <div id="respuestas">
                              <%= form_for(@respuestum) do |f| %>
                        <% if @respuestum.errors.any? %>
                          <div id="error_explanation">
                            <h2><%= pluralize(@respuestum.errors.count, "error") %> prohibited this respuestum from being saved:</h2>

                            <ul>
                            <% @respuestum.errors.full_messages.each do |message| %>
                              <li><%= message %></li>
                            <% end %>
                            </ul>
                          </div>
                        <% end %>

                        <div class="field">
                          <%= f.text_field :respuesta, :class => "form-control", :placeholder => "Escribe una respuesta...", :required => true %>
                        </div>
                        <div class="field">
                          <%= f.hidden_field :comentario_id, :id => "respuesta" %>
                        </div>
                        <div class="field">

                          <%= f.hidden_field :user_id, :value => Perfil.where(:user_id => current_user.id).pluck(:nombre).first %>
                        </div>
                        <div class="field">

                          <%= f.hidden_field :grupo_id, :value => @registro.grupo_id %>
                        </div>
                        <div class="field">

                          <%= f.hidden_field :registro_id, :value => @registro.id %>
                        </div>
                        <div class="actions">
                          <%= f.submit  "Responder" ,:id=> "hide"%>
                        </div>
                      <% end %>
                    </div>
                  </li>
               </ul>
              
              </div>
               </div>  
               <!-- table -->
               
               <!-- footer -->
               <div id="footer" class="footer">
                  <span class="pull-right">
                      <a href="javascript:;" class="btn-scroll-to-top" data-click="scroll-top">
                          <i class="fa fa-arrow-up"></i> <span class="hidden-xs">Back to Top</span>
                      </a>
                  </span>
                  &copy; 2016 All Right Reserved
               </div>
    </div>
  </div>
  <script src="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447732895/jquery-1.9.1.js"></script>
  <script src="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447733033/jquery-migrate-1.1.0.min.js"></script>
  <script src="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447733159/jquery-ui.min.js"></script>
  <script src="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447733251/bootstrap.min.js"></script>
  <!--[if lt IE 9]>
    <script src="assets/crossbrowserjs/html5shiv.js"></script>
    <script src="assets/crossbrowserjs/respond.min.js"></script>
  <![endif]-->
  <script src="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447733386/jquery.slimscroll.min.js"></script>
  <script src="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447733489/jquery.cookie.js"></script>
  <!-- ================== END BASE JS ================== -->
  
  <!-- ================== BEGIN PAGE LEVEL JS ================== -->
  <script src="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447733913/bootstrap_calendar.min.js"></script>
  <script src="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447733996/jquery.sparkline.min.js"></script>
  <script src="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447734296/jquery.gritter.js"></script>
    <script src="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447734361/page-index.demo.js"></script>
    <script src="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447733809/demo.js"></script>
    <script src="https://res.cloudinary.com/dnubgpeun/raw/upload/v1447732638/apps.js"></script>

  <!-- ================== END PAGE LEVEL JS ================== -->
  
  <script>
    $(document).ready(function() {
        App.init();
        Demo.init();
        //PageDemo.init();
    });
  </script>
  <script src="http://res.cloudinary.com/dnubgpeun/raw/upload/v1461709979/js/classie.js"></script>
    <script src="http://res.cloudinary.com/dnubgpeun/raw/upload/v1461709979/js/dialogFx.js"></script>
    <script>
      (function() {

        var dlgtrigger = document.querySelector( '[data-dialog]' ),
          somedialog = document.getElementById( dlgtrigger.getAttribute( 'data-dialog' ) ),
          dlg = new DialogFx( somedialog );
        dlgtrigger.addEventListener( 'click', dlg.toggle.bind(dlg) );
      })();

    </script>
     
 <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/react.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/JSXTransformer.js"></script>
<script src="https://rawgit.com/arqex/react-json/master/build/Json.js"></script>
<script src="//cdn.jsdelivr.net/refluxjs/0.2.11/reflux.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
<script type="text/jsx">

    var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = decodeURIComponent(window.location.search.substring(1)),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : sParameterName[1];
            }
        }
    };



var url_imagenes = "/api/v1/get_imagen?id=" 
var Imagenes = React.createClass({
    componentDidMount: function() {
      $.ajax({
            url: url_imagenes + <%= @registro.id %> ,
            dataType: 'json',
            success: function(data) {
              this.setState({data: data});
            }.bind(this)
      });
    
    },
    
    getInitialState: function() {
              return {
                data: [],
                value: ''
   
        }
            },

   
    render: function() {   

            var subir = items
            var items = this.state.data.map(function(object){
         

            return  <li>
                        <a href={object.photo.url} className="coleccion">
                        <img src={object.photo.url} alt=""/>
                        </a>
                    </li>

              });
                
            return  <ul className="widget-gallery-list clearfix">
                      {items}
                      </ul>  

           
                  
      
          }
    });
    
    React.render(
          <Imagenes />,
          
     document.getElementById('imagenes')
     );


var url_comentarios = "/api/v1/get_comentarios?id=" 
var Comentarios = React.createClass({
    componentDidMount: function() {
      $.ajax({
            url: url_comentarios + <%= @registro.id %> ,
            dataType: 'json',
            success: function(data) {
              this.setState({data: data});
            }.bind(this)
      });
    
    },
    
    getInitialState: function() {
              return {
                data: [],
                value: '',
                ide: '',
                
   
        }
            },

   addClick: function(event) {
      $.post("/add_educations",
            {
            },
            function(data,status){
            });
      this.datos();
    },
    render: function() {   

            var subir = items
            var items = this.state.data.map(function(object){
              var funcion = 'javascript:respuesta("#' + object.id + '",' + object.id + ');'
              var photo = "http://res.cloudinary.com/vianse/";
              
              
              return <li className="media media-sm">
                      <a className="media-left" href="javascript:;">
                      <img src={photo + object.photo} alt="" className="media-object img-circle" width="40" />
                      </a>
                    <div className="media-body">
                        <h4 className="media-heading">{object.name_user}</h4>
                        <h5 className="font">{object.comentario}</h5>
                        <ListaRespuesta comentario={object.id} />

                         <div className="timeline-footer">
                                <a href={funcion} className="m-r-25" id="mostrar"><i className="fa fa-comments fa-fw"></i> Responder</a>
                                  
                         </div>
                         <Respuesta identificador={object.id}/>
                     </div>

                    <br/>
                    
                       
                  </li>
 
              });
                
            return  <span>
                      {items}
                    </span>   

      
          }
    });
    
    React.render(
          <Comentarios />,
     document.getElementById('comentarios')
     );

// Componente Respuesta
    var Respuesta = React.createClass({
    render: function() {

      return (  <div id="contenedor">
                  <div id={this.props.identificador} className="hide">
                      <%= form_for(@respuestum) do |f| %>
                        <% if @respuestum.errors.any? %>
                          <div id="error_explanation">
                            <h2><%= pluralize(@respuestum.errors.count, "error") %> prohibited this respuestum from being saved:</h2>

                            <ul>
                            <% @respuestum.errors.full_messages.each do |message| %>
                              <li><%= message %></li>
                            <% end %>
                            </ul>
                          </div>
                        <% end %>
                        <div id="left">
                        <div className="field">
                          <%= f.text_field :respuesta, :className => "form-control", :placeholder => "Escribe una respuesta...", :required => true %>
                        </div>
                        <div className="field">
                          <%= f.hidden_field :comentario_id, :id => "respuesta" ,:className => "respuesta_valor" %>
                        </div>
                         <div className="field">
                          <%= f.hidden_field :user_id, :value => current_user.id %>
                        </div>
                        <div className="field">

                          <%= f.hidden_field :name_user, :value => Perfil.where(:user_id => current_user.id).pluck(:nombre).first %>
                        </div>
                        <div className="field">

                          <%= f.hidden_field :grupo_id, :value => @registro.grupo_id %>
                        </div>
                        <div className="field">

                          <%= f.hidden_field :registro_id, :value => @registro.id %>
                        </div>
                        </div>
                        <div id="right">
                        <div className="actions">
                          <%= f.submit  "Responder" ,:id=> "hide" ,:className => "btn_respuesta" %>
                          
                        </div>
                        </div>
                      <% end %>
                    </div>
                  </div>

        );
        },
      });


    var url_respuesta = "/api/v1/get_respuestas?id=" 
    var ListaRespuesta = React.createClass({
        componentDidMount: function() {
      $.ajax({
            url: url_respuesta + this.props.comentario ,
            dataType: 'json',
            success: function(data) {
              this.setState({data: data});
            }.bind(this)
      });
    
    },
    
    getInitialState: function() {
              return {
                data: [],
                value: '',
                ide: '',
                
        }
            },
    render: function() {
       var items = this.state.data.map(function(object){

               var photo = "http://res.cloudinary.com/vianse/";
      return <div className="media media-sm">
                    <a className="media-left" href="javascript:;">
                      <img src={photo + object.photo} alt="" className="media-object img-circle" width="40" />
                    </a>
                    <div className="media-body">
                    <h4 className="media-heading font">{object.name_user}</h4>
                    <p>{object.respuesta}</p>
                     </div>
                     </div>

          
         });
           return  <span>
                      {items}
                    </span> 
        },
      });

    
</script>
<script type="text/javascript">

  $( document ).ready(function() {

      $("#respuestas").hide();
      $("#comment").hide();
  });

function respuesta(c, comentario){
    $(".respuesta_valor").val(comentario);
    $(c).removeClass( "hide" ).addClass("show");
     $("#comment").hide();
  }

  function comentar(){
    $("#comment").show();
    $(".show").removeClass( "show" ).addClass("hide");

  }
  function cancelar(){
    $(".show").removeClass( "show" ).addClass("hide");
  }

  




</script>

  </body>
</html>








